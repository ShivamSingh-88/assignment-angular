<div id="tab">
  <h2 id="formhead">REGISTRATION FORM</h2>
</div>
<div class="main">
  <div class="form">
    <form [formGroup]="registrationForm">

      <!-- firstName -->

      <div class="form_control">
        <label>First Name</label>
        <input [class.is-invalid]="
          registrationForm.get('firstName')?.invalid &&
          registrationForm.get('firstName')?.touched
        " formControlName="firstName" type="text" class="form-control" />
      </div>
      <div *ngIf="
        registrationForm.get('firstName')?.valid ||
        registrationForm.get('firstName')?.touched
      ">
        <small *ngIf="registrationForm.get('firstName')?.errors?.required" class="error">First Name is
          required</small>
        <small *ngIf="registrationForm.get('firstName')?.errors?.minlength" class="error">First Name must be atleast
          3 characters</small>
        <small *ngIf="registrationForm.get('firstName')?.errors?.maxlength" class="error">First Name can be of at
          max 50 characters</small>
      </div>

      <!-- // LastName -->

      <div class="form_control">
        <label>Last Name</label>

        <input formControlName="lastName" type="text" class="form-control" />
      </div>

      <!-- // UserName -->

      <div class="form_control">
        <label>Username</label>
        <input [class.is-invalid]="
          registrationForm.get('userName')?.invalid &&
          registrationForm.get('userName')?.touched
        " formControlName="userName" type="text" class="form-control" />
      </div>

      <div *ngIf="
        registrationForm.get('userName')?.valid ||
        registrationForm.get('userName')?.touched
      ">
        <small *ngIf="registrationForm.get('userName')?.errors?.required" class="error">User Name is
          required</small>
      </div>

      <!-- // Password -->

      <div class="form_control">
        <label>Password</label>
        <input [class.is-invalid]="
          registrationForm.get('password')?.invalid &&
          registrationForm.get('password')?.touched
        " formControlName="password" type="password" class="form-control" />

        <div *ngIf="
          registrationForm.get('password')?.valid ||
          registrationForm.get('password')?.touched
        ">
          <small *ngIf="registrationForm.get('password')?.errors?.required" class="error">
            Password is Required</small>
          <small *ngIf="registrationForm.get('password')?.errors?.pattern" class="error">
            Only Alphanumeric Values accepted</small>
          <small *ngIf="registrationForm.get('password')?.errors?.minlength" class="error">
            Password must be of atleast 8 characters</small>
        </div>
      </div>

      <div class="form_control">
        <label>Confirm Password</label>
        <input [class.is-invalid]="registrationForm.errors?.misMatch" formControlName="confirmPassword" type="password"
          class="form-control" />
        <small *ngIf="registrationForm.errors?.misMatch" class="error">
          Passwords do not match</small>
      </div>

      <!-- // DOB -->

      <div class="form_control">
        <label>D.O.B:</label>
        <input [class.is-invalid]="
          registrationForm.get('dob')?.invalid &&
          registrationForm.get('dob')?.touched
        " formControlName="dob" type="date" class="form-control" />
      </div>

      <div *ngIf="
        registrationForm.get('dob')?.valid ||
        registrationForm.get('dob')?.touched
      ">
        <small *ngIf="registrationForm.get('dob')?.errors?.required" class="error">DOB is required</small>
      </div>

      <!-- // Gender -->
      <br />
      <div class="form_control">
        <label>Gender: &nbsp;</label>
        <input [class.is-invalid]="
          registrationForm.get('dob')?.invalid &&
          registrationForm.get('dob')?.touched
        " type="radio" formControlName="gender" value="male" />
        Male

        <input type="radio" formControlName="gender" value="female" /> Female
        <input type="radio" formControlName="gender" value="Other" /> Other
      </div>
      <div *ngIf="
        registrationForm.get('gender')?.valid ||
        registrationForm.get('gender')?.touched
      ">
        <small *ngIf="registrationForm.get('gender')?.errors?.required" class="error">Gender is required</small>
      </div>

      <!-- // Submit -->
      <div class="buttons">
        <button [disabled]="!registrationForm.valid" (click)="addUser()" class="button" id="submit" type="submit">
          SUBMIT
        </button>
        <button (click)="reloadCurrentPage()" class="button" id="reset" type="submit">
          RESET
        </button>
        <!-- <button (click)="updateUser()" class="button" id="update" type="submit">
        Update
      </button> -->
      </div>
    </form>
  </div>
</div>


<br />
<div class="frame">
  <table class="table">
    <tr class="table_head">
      <th>&nbsp; Id</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>User Name</th>
      <th>D.O.B</th>
      <th>Gender</th>
      <th>&nbsp;&nbsp;&nbsp; Action Button</th>
    </tr>
    <tr *ngFor="let employee of employees; let i=index" (click)="ClickedRow(i)" [class.active]="i == HighlightRow">
      <td>{{ employee.id }}</td>
      <td>{{ employee.firstName | uppercase }}</td>
      <td>{{ employee.lastName | uppercase }}</td>
      <td>{{ employee.userName }}</td>
      <td>{{ employee.dob }}</td>
      <td>{{ employee.gender }}</td>

      <td>
        <button class="button" (click)="deleteUser(employee.id)">
          Delete
        </button>
        <button class="button" (click)="getUser(employee.id)">Edit</button>
      </td>
    </tr>
  </table>
</div>
